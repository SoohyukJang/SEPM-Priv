{"ast":null,"code":"import { getFirestore, doc, getDoc, setDoc, updateDoc, arrayUnion, arrayRemove } from 'firebase/firestore';\nimport { app } from '../firebase/config';\nconst API_KEY = 'eeb775beabdd459eb5f8e5983978fff1';\nconst db = getFirestore(app);\n\n// Sample data to use when API calls fail\nconst sampleRecipes = [{\n  id: 715538,\n  title: \"What to make for dinner tonight?? Bruschetta Style Pork & Pasta\",\n  image: \"https://img.spoonacular.com/recipes/715538-312x231.jpg\",\n  readyInMinutes: 45,\n  servings: 2,\n  vegetarian: true,\n  vegan: false,\n  glutenFree: false,\n  dairyFree: false\n}, {\n  id: 716429,\n  title: \"Simple Skillet Lasagna\",\n  image: \"https://spoonacular.com/recipeImages/716429-312x231.jpg\",\n  readyInMinutes: 35,\n  servings: 4,\n  vegetarian: false,\n  vegan: false,\n  glutenFree: false,\n  dairyFree: false\n}, {\n  id: 715497,\n  title: \"Berry Banana Breakfast Smoothie\",\n  image: \"https://spoonacular.com/recipeImages/715497-312x231.jpg\",\n  readyInMinutes: 5,\n  servings: 1,\n  vegetarian: true,\n  vegan: true,\n  glutenFree: true,\n  dairyFree: true\n}, {\n  id: 721146,\n  title: \"Homemade Strawberry Lemonade\",\n  image: \"https://spoonacular.com/recipeImages/721146-312x231.jpg\",\n  readyInMinutes: 15,\n  servings: 8,\n  vegetarian: true,\n  vegan: true,\n  glutenFree: true,\n  dairyFree: true\n}\n// More sample recipes...\n];\n\n// Filter sample recipes based on user filters\nconst filterSampleRecipes = filters => {\n  let filtered = [...sampleRecipes];\n  if (filters.query) {\n    const query = filters.query.toLowerCase();\n    filtered = filtered.filter(recipe => recipe.title.toLowerCase().includes(query));\n  }\n  if (filters.diet === 'vegetarian') {\n    filtered = filtered.filter(recipe => recipe.vegetarian);\n  } else if (filters.diet === 'vegan') {\n    filtered = filtered.filter(recipe => recipe.vegan);\n  } else if (filters.diet === 'gluten free') {\n    filtered = filtered.filter(recipe => recipe.glutenFree);\n  } else if (filters.diet === 'dairy free') {\n    filtered = filtered.filter(recipe => recipe.dairyFree);\n  }\n  if (filters.maxReadyTime) {\n    filtered = filtered.filter(recipe => recipe.readyInMinutes <= filters.maxReadyTime);\n  }\n  return filtered;\n};\nexport const fetchRecipes = async filters => {\n  return new Promise((resolve, reject) => {\n    try {\n      const {\n        query,\n        cuisine,\n        diet,\n        intolerances,\n        maxReadyTime,\n        sort\n      } = filters;\n\n      // Build URL string directly\n      let url = \"https://api.spoonacular.com/recipes/complexSearch?apiKey=\" + API_KEY + \"\";\n      url += \"&number=10\";\n      if (query) url += \"&query=\" + encodeURIComponent(query);\n      if (cuisine) url += \"&cuisine=\" + encodeURIComponent(cuisine);\n      if (diet) url += \"&diet=\" + encodeURIComponent(diet);\n      if (intolerances && intolerances.length > 0) url += \"&intolerances=\" + encodeURIComponent(intolerances.join(','));\n      if (maxReadyTime) url += \"&maxReadyTime=\" + maxReadyTime;\n      if (sort) {\n        url += \"&sort=\" + sort;\n      } else {\n        url += \"&sort=popularity\";\n      }\n      url += \"&addRecipeInformation=true\";\n      console.log(\"Fetching recipes from URL:\", url);\n\n      // Use XMLHttpRequest instead of fetch\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            const data = JSON.parse(xhr.responseText);\n            console.log(\"API response received, results:\", data.results ? data.results.length : 0);\n            resolve(data.results || []);\n          } catch (error) {\n            console.error(\"Error parsing API response:\", error);\n            console.warn(\"Using offline sample data\");\n            resolve(filterSampleRecipes(filters));\n          }\n        } else {\n          console.error(\"API request failed with status:\", xhr.status);\n          console.error(\"Response text:\", xhr.responseText);\n          console.warn(\"Using offline sample data\");\n          resolve(filterSampleRecipes(filters));\n        }\n      };\n      xhr.onerror = function () {\n        console.error(\"Network error occurred\");\n        console.warn(\"Using offline sample data\");\n        resolve(filterSampleRecipes(filters));\n      };\n      xhr.send();\n    } catch (error) {\n      console.error('Error in fetchRecipes:', error);\n      console.warn('Using sample data for search');\n      resolve(filterSampleRecipes(filters));\n    }\n  });\n};\nexport const searchRecipes = fetchRecipes;\nexport const fetchRecipeById = async recipeId => {\n  return new Promise((resolve, reject) => {\n    try {\n      const url = \"https://api.spoonacular.com/recipes/\" + recipeId + \"/information?apiKey=\" + API_KEY + \"&includeNutrition=true\";\n      console.log(\"Fetching recipe details from URL:\", url);\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            const data = JSON.parse(xhr.responseText);\n            resolve(data);\n          } catch (error) {\n            console.error(\"Error parsing API response:\", error);\n            // Try to find in sample data\n            const recipe = sampleRecipes.find(r => r.id === parseInt(recipeId));\n            if (recipe) {\n              resolve(recipe);\n            } else {\n              reject(new Error(\"Recipe not found\"));\n            }\n          }\n        } else {\n          console.error(\"API request failed with status:\", xhr.status);\n          console.error(\"Response text:\", xhr.responseText);\n          // Try to find in sample data\n          const recipe = sampleRecipes.find(r => r.id === parseInt(recipeId));\n          if (recipe) {\n            resolve(recipe);\n          } else {\n            reject(new Error(\"Recipe not found\"));\n          }\n        }\n      };\n      xhr.onerror = function () {\n        console.error(\"Network error occurred\");\n        // Try to find in sample data\n        const recipe = sampleRecipes.find(r => r.id === parseInt(recipeId));\n        if (recipe) {\n          resolve(recipe);\n        } else {\n          reject(new Error(\"Recipe not found\"));\n        }\n      };\n      xhr.send();\n    } catch (error) {\n      console.error('Error in fetchRecipeById:', error);\n      reject(error);\n    }\n  });\n};\nexport const getRecipeById = fetchRecipeById;\nexport const getSimilarRecipes = async recipeId => {\n  return new Promise((resolve, reject) => {\n    try {\n      const url = \"https://api.spoonacular.com/recipes/\" + recipeId + \"/similar?apiKey=\" + API_KEY + \"&number=4\";\n      console.log(\"Fetching similar recipes from URL:\", url);\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            const similarRecipes = JSON.parse(xhr.responseText);\n\n            // Get details for each similar recipe\n            Promise.all(similarRecipes.map(recipe => fetchRecipeById(recipe.id))).then(detailedRecipes => {\n              resolve(detailedRecipes);\n            }).catch(error => {\n              console.error(\"Error fetching detailed recipes:\", error);\n              // Return random sample data as fallback\n              const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\n              resolve(shuffled.slice(0, 4));\n            });\n          } catch (error) {\n            console.error(\"Error parsing API response:\", error);\n            // Return random sample data as fallback\n            const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\n            resolve(shuffled.slice(0, 4));\n          }\n        } else {\n          console.error(\"API request failed with status:\", xhr.status);\n          console.error(\"Response text:\", xhr.responseText);\n          // Return random sample data as fallback\n          const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\n          resolve(shuffled.slice(0, 4));\n        }\n      };\n      xhr.onerror = function () {\n        console.error(\"Network error occurred\");\n        // Return random sample data as fallback\n        const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\n        resolve(shuffled.slice(0, 4));\n      };\n      xhr.send();\n    } catch (error) {\n      console.error('Error in getSimilarRecipes:', error);\n      // Return random sample data as fallback\n      const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\n      resolve(shuffled.slice(0, 4));\n    }\n  });\n};\nexport const getRecommendations = async userProfile => {\n  try {\n    // Default parameters if user profile is not available\n    let diet = '';\n    let intolerances = [];\n    let query = '';\n\n    // If user profile exists, use it to customize recommendations\n    if (userProfile) {\n      if (userProfile.goal === 'Weight Loss') {\n        diet = 'low-calorie';\n      } else if (userProfile.goal === 'Build Muscle') {\n        diet = 'high-protein';\n      }\n      intolerances = userProfile.allergies || [];\n    }\n\n    // Create filters object for fetching recipes\n    const filters = {\n      query,\n      diet,\n      intolerances,\n      sort: 'popularity',\n      maxReadyTime: 60\n    };\n    return await fetchRecipes(filters);\n  } catch (error) {\n    console.error('Error getting recommendations:', error);\n    return filterSampleRecipes({});\n  }\n};\nexport const saveRecipe = async (userId, recipe) => {\n  try {\n    const userRef = doc(db, 'users', userId);\n    const userDoc = await getDoc(userRef);\n    if (!userDoc.exists()) {\n      // Create user document if it doesn't exist\n      await setDoc(userRef, {\n        savedRecipes: [recipe]\n      });\n    } else {\n      // Add recipe to existing savedRecipes array\n      await updateDoc(userRef, {\n        savedRecipes: arrayUnion(recipe)\n      });\n    }\n  } catch (error) {\n    console.error('Error saving recipe:', error);\n    throw error;\n  }\n};\nexport const removeRecipe = async (userId, recipeId) => {\n  try {\n    const userRef = doc(db, 'users', userId);\n    const userDoc = await getDoc(userRef);\n    if (userDoc.exists()) {\n      const savedRecipes = userDoc.data().savedRecipes || [];\n      const recipeToRemove = savedRecipes.find(recipe => recipe.id === recipeId);\n      if (recipeToRemove) {\n        await updateDoc(userRef, {\n          savedRecipes: arrayRemove(recipeToRemove)\n        });\n      }\n    }\n  } catch (error) {\n    console.error('Error removing recipe:', error);\n    throw error;\n  }\n};\nexport const getSavedRecipes = async userId => {\n  try {\n    const userRef = doc(db, 'users', userId);\n    const userDoc = await getDoc(userRef);\n    if (userDoc.exists()) {\n      return userDoc.data().savedRecipes || [];\n    }\n    return [];\n  } catch (error) {\n    console.error('Error getting saved recipes:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["getFirestore","doc","getDoc","setDoc","updateDoc","arrayUnion","arrayRemove","app","API_KEY","db","sampleRecipes","id","title","image","readyInMinutes","servings","vegetarian","vegan","glutenFree","dairyFree","filterSampleRecipes","filters","filtered","query","toLowerCase","filter","recipe","includes","diet","maxReadyTime","fetchRecipes","Promise","resolve","reject","cuisine","intolerances","sort","url","encodeURIComponent","length","join","console","log","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","data","JSON","parse","responseText","results","error","warn","onerror","send","searchRecipes","fetchRecipeById","recipeId","find","r","parseInt","Error","getRecipeById","getSimilarRecipes","similarRecipes","all","map","then","detailedRecipes","catch","shuffled","Math","random","slice","getRecommendations","userProfile","goal","allergies","saveRecipe","userId","userRef","userDoc","exists","savedRecipes","removeRecipe","recipeToRemove","getSavedRecipes"],"sources":["C:/Users/SoohyukJANG/Documents/GitHub/SEPM-Priv/SEPM/src/services/apiService.js"],"sourcesContent":["import { getFirestore, doc, getDoc, setDoc, updateDoc, arrayUnion, arrayRemove} from 'firebase/firestore';\r\nimport { app } from '../firebase/config';\r\n\r\nconst API_KEY = 'eeb775beabdd459eb5f8e5983978fff1';\r\nconst db = getFirestore(app);\r\n\r\n// Sample data to use when API calls fail\r\nconst sampleRecipes = [\r\n  {\r\n    id: 715538,\r\n    title: \"What to make for dinner tonight?? Bruschetta Style Pork & Pasta\",\r\n    image: \"https://img.spoonacular.com/recipes/715538-312x231.jpg\",\r\n    readyInMinutes: 45,\r\n    servings: 2,\r\n    vegetarian: true,\r\n    vegan: false,\r\n    glutenFree: false,\r\n    dairyFree: false\r\n  },\r\n  {\r\n    id: 716429,\r\n    title: \"Simple Skillet Lasagna\",\r\n    image: \"https://spoonacular.com/recipeImages/716429-312x231.jpg\",\r\n    readyInMinutes: 35,\r\n    servings: 4,\r\n    vegetarian: false,\r\n    vegan: false,\r\n    glutenFree: false,\r\n    dairyFree: false\r\n  },\r\n  {\r\n    id: 715497,\r\n    title: \"Berry Banana Breakfast Smoothie\",\r\n    image: \"https://spoonacular.com/recipeImages/715497-312x231.jpg\",\r\n    readyInMinutes: 5,\r\n    servings: 1,\r\n    vegetarian: true,\r\n    vegan: true,\r\n    glutenFree: true,\r\n    dairyFree: true\r\n  },\r\n  {\r\n    id: 721146,\r\n    title: \"Homemade Strawberry Lemonade\",\r\n    image: \"https://spoonacular.com/recipeImages/721146-312x231.jpg\",\r\n    readyInMinutes: 15,\r\n    servings: 8,\r\n    vegetarian: true,\r\n    vegan: true,\r\n    glutenFree: true,\r\n    dairyFree: true\r\n  },\r\n  // More sample recipes...\r\n];\r\n\r\n// Filter sample recipes based on user filters\r\nconst filterSampleRecipes = (filters) => {\r\n  let filtered = [...sampleRecipes];\r\n  \r\n  if (filters.query) {\r\n    const query = filters.query.toLowerCase();\r\n    filtered = filtered.filter(recipe => \r\n      recipe.title.toLowerCase().includes(query)\r\n    );\r\n  }\r\n  \r\n  if (filters.diet === 'vegetarian') {\r\n    filtered = filtered.filter(recipe => recipe.vegetarian);\r\n  } else if (filters.diet === 'vegan') {\r\n    filtered = filtered.filter(recipe => recipe.vegan);\r\n  } else if (filters.diet === 'gluten free') {\r\n    filtered = filtered.filter(recipe => recipe.glutenFree);\r\n  } else if (filters.diet === 'dairy free') {\r\n    filtered = filtered.filter(recipe => recipe.dairyFree);\r\n  }\r\n  \r\n  if (filters.maxReadyTime) {\r\n    filtered = filtered.filter(recipe => recipe.readyInMinutes <= filters.maxReadyTime);\r\n  }\r\n  \r\n  return filtered;\r\n};\r\n\r\nexport const fetchRecipes = async (filters) => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      const { query, cuisine, diet, intolerances, maxReadyTime, sort } = filters;\r\n      \r\n      // Build URL string directly\r\n      let url = \"https://api.spoonacular.com/recipes/complexSearch?apiKey=\" + API_KEY + \"\";\r\n      url += \"&number=10\";\r\n      \r\n      if (query) url += \"&query=\" + encodeURIComponent(query);\r\n      if (cuisine) url += \"&cuisine=\" + encodeURIComponent(cuisine);\r\n      if (diet) url += \"&diet=\" + encodeURIComponent(diet);\r\n      if (intolerances && intolerances.length > 0) url += \"&intolerances=\" + encodeURIComponent(intolerances.join(','));\r\n      if (maxReadyTime) url += \"&maxReadyTime=\" + maxReadyTime;\r\n      \r\n      if (sort) {\r\n        url += \"&sort=\" + sort;\r\n      } else {\r\n        url += \"&sort=popularity\";\r\n      }\r\n      \r\n      url += \"&addRecipeInformation=true\";\r\n      \r\n      console.log(\"Fetching recipes from URL:\", url);\r\n      \r\n      // Use XMLHttpRequest instead of fetch\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, true);\r\n      xhr.setRequestHeader('Accept', 'application/json');\r\n      \r\n      xhr.onload = function() {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n          try {\r\n            const data = JSON.parse(xhr.responseText);\r\n            console.log(\"API response received, results:\", data.results ? data.results.length : 0);\r\n            resolve(data.results || []);\r\n          } catch (error) {\r\n            console.error(\"Error parsing API response:\", error);\r\n            console.warn(\"Using offline sample data\");\r\n            resolve(filterSampleRecipes(filters));\r\n          }\r\n        } else {\r\n          console.error(\"API request failed with status:\", xhr.status);\r\n          console.error(\"Response text:\", xhr.responseText);\r\n          console.warn(\"Using offline sample data\");\r\n          resolve(filterSampleRecipes(filters));\r\n        }\r\n      };\r\n      \r\n      xhr.onerror = function() {\r\n        console.error(\"Network error occurred\");\r\n        console.warn(\"Using offline sample data\");\r\n        resolve(filterSampleRecipes(filters));\r\n      };\r\n      \r\n      xhr.send();\r\n    } catch (error) {\r\n      console.error('Error in fetchRecipes:', error);\r\n      console.warn('Using sample data for search');\r\n      resolve(filterSampleRecipes(filters));\r\n    }\r\n  });\r\n};\r\n\r\nexport const searchRecipes = fetchRecipes;\r\n\r\nexport const fetchRecipeById = async (recipeId) => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      const url = \"https://api.spoonacular.com/recipes/\" + recipeId + \"/information?apiKey=\" + API_KEY + \"&includeNutrition=true\";\r\n      console.log(\"Fetching recipe details from URL:\", url);\r\n      \r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, true);\r\n      xhr.setRequestHeader('Accept', 'application/json');\r\n      \r\n      xhr.onload = function() {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n          try {\r\n            const data = JSON.parse(xhr.responseText);\r\n            resolve(data);\r\n          } catch (error) {\r\n            console.error(\"Error parsing API response:\", error);\r\n            // Try to find in sample data\r\n            const recipe = sampleRecipes.find(r => r.id === parseInt(recipeId));\r\n            if (recipe) {\r\n              resolve(recipe);\r\n            } else {\r\n              reject(new Error(\"Recipe not found\"));\r\n            }\r\n          }\r\n        } else {\r\n          console.error(\"API request failed with status:\", xhr.status);\r\n          console.error(\"Response text:\", xhr.responseText);\r\n          // Try to find in sample data\r\n          const recipe = sampleRecipes.find(r => r.id === parseInt(recipeId));\r\n          if (recipe) {\r\n            resolve(recipe);\r\n          } else {\r\n            reject(new Error(\"Recipe not found\"));\r\n          }\r\n        }\r\n      };\r\n      \r\n      xhr.onerror = function() {\r\n        console.error(\"Network error occurred\");\r\n        // Try to find in sample data\r\n        const recipe = sampleRecipes.find(r => r.id === parseInt(recipeId));\r\n        if (recipe) {\r\n          resolve(recipe);\r\n        } else {\r\n          reject(new Error(\"Recipe not found\"));\r\n        }\r\n      };\r\n      \r\n      xhr.send();\r\n    } catch (error) {\r\n      console.error('Error in fetchRecipeById:', error);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const getRecipeById = fetchRecipeById;\r\n\r\nexport const getSimilarRecipes = async (recipeId) => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      const url = \"https://api.spoonacular.com/recipes/\" + recipeId + \"/similar?apiKey=\" + API_KEY + \"&number=4\";\r\n      console.log(\"Fetching similar recipes from URL:\", url);\r\n      \r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, true);\r\n      xhr.setRequestHeader('Accept', 'application/json');\r\n      \r\n      xhr.onload = function() {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n          try {\r\n            const similarRecipes = JSON.parse(xhr.responseText);\r\n            \r\n            // Get details for each similar recipe\r\n            Promise.all(\r\n              similarRecipes.map(recipe => fetchRecipeById(recipe.id))\r\n            ).then(detailedRecipes => {\r\n              resolve(detailedRecipes);\r\n            }).catch(error => {\r\n              console.error(\"Error fetching detailed recipes:\", error);\r\n              // Return random sample data as fallback\r\n              const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\r\n              resolve(shuffled.slice(0, 4));\r\n            });\r\n          } catch (error) {\r\n            console.error(\"Error parsing API response:\", error);\r\n            // Return random sample data as fallback\r\n            const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\r\n            resolve(shuffled.slice(0, 4));\r\n          }\r\n        } else {\r\n          console.error(\"API request failed with status:\", xhr.status);\r\n          console.error(\"Response text:\", xhr.responseText);\r\n          // Return random sample data as fallback\r\n          const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\r\n          resolve(shuffled.slice(0, 4));\r\n        }\r\n      };\r\n      \r\n      xhr.onerror = function() {\r\n        console.error(\"Network error occurred\");\r\n        // Return random sample data as fallback\r\n        const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\r\n        resolve(shuffled.slice(0, 4));\r\n      };\r\n      \r\n      xhr.send();\r\n    } catch (error) {\r\n      console.error('Error in getSimilarRecipes:', error);\r\n      // Return random sample data as fallback\r\n      const shuffled = [...sampleRecipes].sort(() => 0.5 - Math.random());\r\n      resolve(shuffled.slice(0, 4));\r\n    }\r\n  });\r\n};\r\n\r\nexport const getRecommendations = async (userProfile) => {\r\n  try {\r\n    // Default parameters if user profile is not available\r\n    let diet = '';\r\n    let intolerances = [];\r\n    let query = '';\r\n    \r\n    // If user profile exists, use it to customize recommendations\r\n    if (userProfile) {\r\n      if (userProfile.goal === 'Weight Loss') {\r\n        diet = 'low-calorie';\r\n      } else if (userProfile.goal === 'Build Muscle') {\r\n        diet = 'high-protein';\r\n      }\r\n      \r\n      intolerances = userProfile.allergies || [];\r\n    }\r\n    \r\n    // Create filters object for fetching recipes\r\n    const filters = {\r\n      query,\r\n      diet,\r\n      intolerances,\r\n      sort: 'popularity',\r\n      maxReadyTime: 60\r\n    };\r\n    \r\n    return await fetchRecipes(filters);\r\n  } catch (error) {\r\n    console.error('Error getting recommendations:', error);\r\n    return filterSampleRecipes({});\r\n  }\r\n};\r\n\r\nexport const saveRecipe = async (userId, recipe) => {\r\n  try {\r\n    const userRef = doc(db, 'users', userId);\r\n    const userDoc = await getDoc(userRef);\r\n    \r\n    if (!userDoc.exists()) {\r\n      // Create user document if it doesn't exist\r\n      await setDoc(userRef, {\r\n        savedRecipes: [recipe]\r\n      });\r\n    } else {\r\n      // Add recipe to existing savedRecipes array\r\n      await updateDoc(userRef, {\r\n        savedRecipes: arrayUnion(recipe)\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.error('Error saving recipe:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const removeRecipe = async (userId, recipeId) => {\r\n  try {\r\n    const userRef = doc(db, 'users', userId);\r\n    const userDoc = await getDoc(userRef);\r\n    \r\n    if (userDoc.exists()) {\r\n      const savedRecipes = userDoc.data().savedRecipes || [];\r\n      const recipeToRemove = savedRecipes.find(recipe => recipe.id === recipeId);\r\n      \r\n      if (recipeToRemove) {\r\n        await updateDoc(userRef, {\r\n          savedRecipes: arrayRemove(recipeToRemove)\r\n        });\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Error removing recipe:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSavedRecipes = async (userId) => {\r\n  try {\r\n    const userRef = doc(db, 'users', userId);\r\n    const userDoc = await getDoc(userRef);\r\n    \r\n    if (userDoc.exists()) {\r\n      return userDoc.data().savedRecipes || [];\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('Error getting saved recipes:', error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}